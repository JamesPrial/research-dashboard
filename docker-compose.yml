services:
  research-dashboard:
    build: .
    image: jamesprial/research-dashboard:latest
    ports:
      - "${PORT:-8420}:${PORT:-8420}"
    command: ["--cwd", "/research", "--claude-path", "claude", "--port", "${PORT:-8420}"]
    volumes:
      - ./research-data:/research
      # Uncomment for OAuth auth (Pro/Max plan) instead of API key:
      # - ~/.claude:/home/researcher/.claude
    environment:
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
      # Uncomment to use a Max plan API key (takes priority over ANTHROPIC_API_KEY):
      # - MAX_API_KEY=${MAX_API_KEY}
      # Uncomment to change log verbosity (debug, info, warn, error):
      # - LOG_LEVEL=debug
      # Uncomment to set container user/group IDs (required for Unraid):
      # - PUID=99
      # - PGID=100
    env_file:
      - path: .env
        required: false
    restart: unless-stopped
